{% extends 'projects/base.html' %}

{% block content %}
    <h3>Viewing File: {{ file.file.name|cut:"project_files/" }}</h3>
    <p class="text-muted">{{ file.description }}</p>
    <a href="{% url 'project-detail' project.id %}" class="btn btn-secondary btn-sm mb-3">Back to Project</a>

    {% if chart_html %}
        <div class="card mb-4">
            <div class="card-header">Interactive Chart</div>
            <div class="card-body">
                {{ chart_html|safe }}
            </div>
        </div>
    {% endif %}

    {% if data_html %}
        <div class="card">
            <div class="card-header">Data Preview (First 5 Rows)</div>
            <div class="card-body" style="overflow-x: auto;">
                {{ data_html|safe }}
            </div>
        </div>
    {% else %}
        <div class="alert alert-danger">
             {{ error_message|default:"An unknown error occurred while processing the file." }}
        </div>
    {% endif %}
{% endblock %}